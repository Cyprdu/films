<!DOCTYPE html> 
<html lang="fr">
<body>
    <video id="video" controls width="640" height="360" style="background-color: #000;" poster="https://cdn-uploads.gameblog.fr/img/purchase_guide/424388_645a09d102a21.jpg?ver=1">
    </video>

    <!-- Inclusion de la bibliothèque hls.js -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

    <script>
        // Vérifie si Hls.js est supporté par le navigateur
        if (Hls.isSupported()) {
            var video = document.getElementById('video');
            var hls = new Hls();
            
            // Charge la source m3u8
            hls.loadSource('https://iptv.frembed.pro/live/A6B56AC724C0686C98984A5A92CA1DC1/106.m3u8');
            hls.attachMedia(video);

            // Lecture automatique quand le manifeste est chargé
            hls.on(Hls.Events.MANIFEST_PARSED, function() {
                // L'image de vignette ne disparaît pas jusqu'à ce que la vidéo commence à jouer
                video.play();
            });

            // Ajouter un événement pour s'assurer que la vignette reste jusqu'à ce que la vidéo soit lue
            video.addEventListener('play', function() {
                // Une fois que la vidéo commence à jouer, on enlève l'image de la vignette
                video.poster = '';
            });
        } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
            // Fallback pour Safari qui supporte nativement HLS
            video.src = 'https://iptv.frembed.pro/live/A6B56AC724C0686C98984A5A92CA1DC1/106.m3u8';
            video.addEventListener('loadedmetadata', function() {
                // Lecture automatique pour Safari
                video.play();
            });

            // Ajouter un événement pour Safari pour gérer la vignette
            video.addEventListener('play', function() {
                // Une fois que la vidéo commence à jouer, on enlève l'image de la vignette
                video.poster = '';
            });
        } else {
            alert("Votre navigateur ne supporte pas HLS.");
        }
    </script>
</body>
</html>
